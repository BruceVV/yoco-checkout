<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YOCO Payment</title>
  <script src="https://js.yoco.com/sdk/v1/yoco-sdk-web.js"></script>
</head>
<body>
  <script>
    const yoco = new window.YocoSDK({
      publicKey: 'pk_test_2a37ffb05EGgMKA55e54' // ðŸ”‘ Replace with your YOCO public key
    });

    const params = new URLSearchParams(window.location.search);
    const amount = parseInt(params.get("amount"));

    yoco.showPopup({
      amountInCents: amount,
      currency: 'ZAR',
      name: 'Playa Arena Payment',
      description: 'Court Booking Payment',
      callback: function (result) {
        if (result.error) {
          alert("Payment failed: " + result.error.message);
        } else {
          // Return token to FlutterFlow via custom URL
          window.location.href = `yo://token?value=${result.id}`;
        }
      }
    });
  </script>
</body>
</html>
